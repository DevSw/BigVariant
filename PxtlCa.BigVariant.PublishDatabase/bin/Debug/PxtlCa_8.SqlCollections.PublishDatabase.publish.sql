/*
Deployment script for PxtlCa.SqlCollections.Database

This code was generated by a tool.
Changes to this file may cause incorrect behavior and will be lost if
the code is regenerated.
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;

SET NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "PxtlCa.SqlCollections.Database"
:setvar DefaultFilePrefix "PxtlCa.SqlCollections.Database"
:setvar DefaultDataPath "C:\Program Files (x86)\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\DATA\"
:setvar DefaultLogPath "C:\Program Files (x86)\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\DATA\"

GO
:on error exit
GO
/*
Detect SQLCMD mode and disable script execution if SQLCMD mode is not supported.
To re-enable the script after enabling SQLCMD mode, execute the following:
SET NOEXEC OFF; 
*/
:setvar __IsSqlCmdEnabled "True"
GO
IF N'$(__IsSqlCmdEnabled)' NOT LIKE N'True'
    BEGIN
        PRINT N'SQLCMD mode must be enabled to successfully execute this script.';
        SET NOEXEC ON;
    END


GO
USE [master];


GO

IF (DB_ID(N'$(DatabaseName)') IS NOT NULL) 
BEGIN
    ALTER DATABASE [$(DatabaseName)]
    SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
    DROP DATABASE [$(DatabaseName)];
END

GO
PRINT N'Creating $(DatabaseName)...'
GO
CREATE DATABASE [$(DatabaseName)]
    ON 
    PRIMARY(NAME = [$(DatabaseName)], FILENAME = N'$(DefaultDataPath)$(DefaultFilePrefix)_Primary.mdf')
    LOG ON (NAME = [$(DatabaseName)_log], FILENAME = N'$(DefaultLogPath)$(DefaultFilePrefix)_Primary.ldf') COLLATE SQL_Latin1_General_CP1_CI_AS
GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET ANSI_NULLS ON,
                ANSI_PADDING ON,
                ANSI_WARNINGS ON,
                ARITHABORT ON,
                CONCAT_NULL_YIELDS_NULL ON,
                NUMERIC_ROUNDABORT OFF,
                QUOTED_IDENTIFIER ON,
                ANSI_NULL_DEFAULT ON,
                CURSOR_DEFAULT LOCAL,
                RECOVERY FULL,
                CURSOR_CLOSE_ON_COMMIT OFF,
                AUTO_CREATE_STATISTICS ON,
                AUTO_SHRINK OFF,
                AUTO_UPDATE_STATISTICS ON,
                RECURSIVE_TRIGGERS OFF 
            WITH ROLLBACK IMMEDIATE;
        ALTER DATABASE [$(DatabaseName)]
            SET AUTO_CLOSE OFF 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET ALLOW_SNAPSHOT_ISOLATION OFF;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET READ_COMMITTED_SNAPSHOT OFF 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET AUTO_UPDATE_STATISTICS_ASYNC OFF,
                PAGE_VERIFY NONE,
                DATE_CORRELATION_OPTIMIZATION OFF,
                DISABLE_BROKER,
                PARAMETERIZATION SIMPLE,
                SUPPLEMENTAL_LOGGING OFF 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF IS_SRVROLEMEMBER(N'sysadmin') = 1
    BEGIN
        IF EXISTS (SELECT 1
                   FROM   [master].[dbo].[sysdatabases]
                   WHERE  [name] = N'$(DatabaseName)')
            BEGIN
                EXECUTE sp_executesql N'ALTER DATABASE [$(DatabaseName)]
    SET TRUSTWORTHY OFF,
        DB_CHAINING OFF 
    WITH ROLLBACK IMMEDIATE';
            END
    END
ELSE
    BEGIN
        PRINT N'The database settings cannot be modified. You must be a SysAdmin to apply these settings.';
    END


GO
IF IS_SRVROLEMEMBER(N'sysadmin') = 1
    BEGIN
        IF EXISTS (SELECT 1
                   FROM   [master].[dbo].[sysdatabases]
                   WHERE  [name] = N'$(DatabaseName)')
            BEGIN
                EXECUTE sp_executesql N'ALTER DATABASE [$(DatabaseName)]
    SET HONOR_BROKER_PRIORITY OFF 
    WITH ROLLBACK IMMEDIATE';
            END
    END
ELSE
    BEGIN
        PRINT N'The database settings cannot be modified. You must be a SysAdmin to apply these settings.';
    END


GO
ALTER DATABASE [$(DatabaseName)]
    SET TARGET_RECOVERY_TIME = 0 SECONDS 
    WITH ROLLBACK IMMEDIATE;


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET FILESTREAM(NON_TRANSACTED_ACCESS = OFF),
                CONTAINMENT = NONE 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET AUTO_CREATE_STATISTICS ON(INCREMENTAL = OFF),
                MEMORY_OPTIMIZED_ELEVATE_TO_SNAPSHOT = OFF,
                DELAYED_DURABILITY = DISABLED 
            WITH ROLLBACK IMMEDIATE;
    END


GO
USE [$(DatabaseName)];


GO
IF fulltextserviceproperty(N'IsFulltextInstalled') = 1
    EXECUTE sp_fulltext_database 'enable';


GO
PRINT N'Creating [PxtlCa.SqlCollections.Core]...';


GO
CREATE ASSEMBLY [PxtlCa.SqlCollections.Core]
    AUTHORIZATION [dbo]
    FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C01030070C000570000000000000000E00022200B0130000018000000080000000000004A370000002000000040000000000010002000000002000004000000000000000400000000000000008000000002000000000000030040850000100000100000000010000010000000000000100000000000000000000000F83600004F000000004000000804000000000000000000000000000000000000006000000C000000C03500001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E7465787400000050170000002000000018000000020000000000000000000000000000200000602E72737263000000080400000040000000060000001A0000000000000000000000000000400000402E72656C6F6300000C00000000600000000200000020000000000000000000000000000040000042000000000000000000000000000000002C37000000000000480000000200050070250000501000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000133001000C0000000100001100027B010000040A2B00062A133001001A00000002000011000228010000060A1200FE16030000026F1300000A0B2B00072ABA0002037D0200000402032C0A037E1400000AFE012B01177D0300000402036F1500000A28100000067D010000042A000000133001000C0000000300001100027B020000040A2B00062A1E027B030000042A133001000C00000004000011000228050000060A2B00062A1330010011000000050000110002280400000674190000010A2B00062A00000013300100110000000600001100022804000006A51A0000010A2B00062A000000133001000F00000007000011001200FE1502000002060B2B00072A00133001002500000008000011000228060000060A062C090072010000700B2B0F000228040000066F1300000A0B2B00072A000000133002005F00000009000011000228060000062C10032C0A037E1400000AFE012B01172B01160A062C0500170B2B3A03750200000214FE030C082C1D0003A5020000020D022804000006120328040000066F1600000A0B2B1000022804000006036F1600000A0B2B00072A00133001001C0000000A000011000228060000062D0D0228040000066F1700000A2B01160A2B00062A13300100110000000B00001100028C1A00000173030000060A2B00062A00000013300200B4000000010000110002036F1800000A7D01000004027B010000040A061F0A594507000000020000001A000000320000007A0000007A0000004A000000620000002B7802036F1900000A731A00000A8C210000017D020000042B6002036F1B00000A731C00000A8C220000017D020000042B4802036F1D00000A731E00000A8C230000017D020000042B3002036F1F00000A732000000A8C1A0000017D020000042B1802036F2100000A732200000A732300000A7D020000042B002A13300300C8000000010000110003022801000006D26F2400000A00027B010000040A061F0A594507000000050000001E000000370000008C0000008C0000005000000069000000388700000003022804000006A521000001282500000A6F2600000A002B6E03022804000006A522000001282700000A6F2800000A002B5503022804000006A523000001282900000A6F2A00000A002B3C03022804000006A51A000001282B00000A6F2C00000A002B230228040000067427000001036F2D00000A282E00000A732F00000A6F3000000A002B002A13300200420100000C0000110002D02B000001283100000A3B1001000002D02D000001283100000A3BFD00000002D02E000001283100000A3BEA00000002D02F000001283100000A3BD700000002D030000001283100000A3BC400000002D031000001283100000A3BB100000002D032000001283100000A3B9E00000002D033000001283100000A3B8B00000002D034000001283100000A2E7A02D021000001283100000A2E6902D022000001283100000A2E5802D023000001283100000A2E4702D035000001283100000A2E3602D036000001283100000A2E2502D01A000001283100000A2E1402D019000001283100000A2E03162B021F102B021F0F2B021F0E2B021F0D2B021F0C2B021F0B2B021F0A2B021F092B011E2B011D2B011C2B011B2B011A2B01192B01182B01170A0616FE010B072C1100720B0000707215000070733200000A7A060C2B00082A0000133001000C0000000B000011000273030000060A2B00062A133001000C0000000B000011000273030000060A2B00062A13300100110000000B00001100028C1A00000173030000060A2B00062A00000042534A4201000100000000000C00000076322E302E35303732370000000005006C0000008C060000237E0000F80600005006000023537472696E677300000000480D00006000000023555300A80D0000100000002347554944000000B80D00009802000023426C6F620000000000000002000001571FA2010900000000FA013300160000010000003700000004000000150000001300000009000000020000003200000011000000150000000C00000001000000080000000800000001000000030000000000EC030100000000000600B10270050600440370050600B2013E050F00900500000600F501AF0406009402AF0406006002AF0406002B03AF040600F702AF0406001003AF0406002802AF040600E10151050600A401510506004302AF040600D1023E060A00E2051D050A000C021D050600150178040A0083031D050A00A8009F050600E905780406008901700506006C013E050600C6013E050A0046049F050A00A8039F050600EB0443000600100543000600410178040600860478040A007F021D0506000B0478040A0031009F050A000B009F050A001E009F050600710443000E00DD0432040E00D30432040E00B2009604060094031D060E00020532040E00F80432040A0034069F050600CD0078040A008B049F050A006B039F050A00B4059F050A00D9059F050A00FB009F050A00E1039F050A00C3009F050A006F009F050A002B069F050A00F1009F050600C1047804000000003A00000000000100010009011000FC054B01490001000100010100007F044B0179000400110081011000C4054B01550016001100010022014C0101007603500121007700530106064D005601568007014C01568034064C0156808B044C0156806B034C015680B4054C015680D9054C015680FB004C015680E1034C015680C3004C0156806F004C01568031004C0156800B004C0156801E004C0156802B064C015680F1004C015680A8034C01568046044C0150200000000083081F015901010068200000000086080C01310001008E2000000000861838055E010100C020000000008608730363010200D8200000000081081B0467010200E02000000000E609270467010200F8200000000086085F046B0102001821000000008608D003700102003821000000009608120475010200542100000000C600C70331000200882100000000C600BD0565000200F42100000000C60090006E0003001C2200000000960066017A0103003C2200000000E6016A0081010400FC2200000000E601830187010500D0230000000096002B018D01060020250000000096004D049401070038250000000096000706940108005025000000009600B2037A010900000001007D0300000100DD03000001007D03000001003C05000001002906000001004601000001007D03000001007D03000001007D0302004D0002005100090038050100110038050600190038050A00290038051000310038051000390038051000410038051000490038051000510038051000590038051000610038051500690038051000710038051000790038050600890038051A00B10038050600C10038052000F90038050600A900C7033100010177033500A9003E013A00A900BD056500A90090006E00D90062037700D90027007B00090138057F00D90001006E00110138050100D90014008400190138058800D9009D033100D10038051000D90069048D00290138059300C90038059A00E1008301A1000901F005A600E10083017F001101F005AD00E100830101001901F005B400E10083018800D100F005BB00E10083011000E10069048D0041019C00C10049013805C70039013D04D100E900DF00E000B9013805E80008001400F70008001800FC0008001C000101080020000601080024000B0108002800100108002C001501080030001A01080034001F0108003800240108003C002901080040002E0108004400330108004800380108004C003D010800500042010800540047012E000B00BB012E001300C4012E001B00E3012E002300EC012E002B000C022E0033000C022E003B000C022E004300EC012E004B0012022E0053000C022E005B000C022E0063002A022E006B0054022E007300FC0043007B006A0261008300FC0061008B006102A0008300FC0020029300FC0040029300FC0060029300FC0026002B003F00430047004C00510058005D006A007200D80002000100000023019B0100004101A00100007703A40100002A04A80100002B04A80100006304AC010000D403B10100002D04B601020001000300020002000500020004000700020005000900020006000B00020007000D00020008000F000200090011000480000001000000000000000000000000004B010000020000000000000000000000EE00610000000000020000000000000000000000EE00550000000000020000000000000000000000EE00320400000000000000000052656164496E7433320053716C496E7433320052656164496E7436340053716C496E7436340052656164496E7431360053716C496E743136003C4D6F64756C653E0053797374656D2E494F0076616C75655F5F0053797374656D2E44617461006D73636F726C696200526561640053716C47756964003C5F49734E756C6C3E6B5F5F4261636B696E674669656C640047657448617368436F6465006765745F556E69636F646500494E756C6C61626C650049586D6C53657269616C697A61626C650053716C446F75626C650052756E74696D655479706548616E646C65004765745479706546726F6D48616E646C650053716C53696E676C650053716C4461746554696D65004E6F6E65006765745F547970650056616C756554797065006765745F53716C547970650047657453716C5479706546726F6D5479706500476574547970650074797065005078746C43612E53716C436F6C6C656374696F6E732E436F726500506172736500446562756767657242726F777361626C65537461746500577269746500436F6D70696C657247656E65726174656441747472696275746500477569644174747269627574650044656275676761626C6541747472696275746500446562756767657242726F777361626C6541747472696275746500436F6D56697369626C6541747472696275746500417373656D626C795469746C654174747269627574650053716C55736572446566696E65645479706541747472696275746500417373656D626C7954726164656D61726B41747472696275746500417373656D626C7946696C6556657273696F6E41747472696275746500417373656D626C79436F6E66696775726174696F6E4174747269627574650053716C46756E6374696F6E41747472696275746500417373656D626C794465736372697074696F6E41747472696275746500436F6D70696C6174696F6E52656C61786174696F6E7341747472696275746500416C6C6F775061727469616C6C795472757374656443616C6C65727341747472696275746500417373656D626C7950726F6475637441747472696275746500417373656D626C79436F7079726967687441747472696275746500417373656D626C79436F6D70616E794174747269627574650052756E74696D65436F6D7061746962696C6974794174747269627574650052656164427974650053716C42797465006765745F56616C75650076616C7565004942696E61727953657269616C697A6500456E636F64696E670052656164537472696E670053716C537472696E670042696756617269616E7446726F6D537472696E6700546F537472696E67006765745F4173537472696E67006F626A0053716C446563696D616C005078746C43612E53716C436F6C6C656374696F6E732E436F72652E646C6C0044424E756C6C006765745F4E756C6C006765745F5F49734E756C6C006765745F49734E756C6C0053797374656D2E586D6C005772697465586D6C0053716C586D6C0042696756617269616E7446726F6D586D6C006765745F4173586D6C006765745F4261736553747265616D0053797374656D0053716C54797065456E756D0053716C426F6F6C65616E0053797374656D2E586D6C2E53657269616C697A6174696F6E0053797374656D2E5265666C656374696F6E00417267756D656E74457863657074696F6E00586D6C52656164657200586D6C546578745265616465720042696E61727952656164657200586D6C57726974657200586D6C546578745772697465720042696E617279577269746572004D6963726F736F66742E53716C5365727665722E536572766572002E63746F720053797374656D2E446961676E6F73746963730053797374656D2E52756E74696D652E496E7465726F7053657276696365730053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300446562756767696E674D6F6465730053797374656D2E446174612E53716C54797065730053716C427974657300457175616C730055736572446566696E656446756E6374696F6E730053716C436861727300466F726D6174004F626A656374006F705F4578706C696369740042696756617269616E740042696756617269616E7446726F6D56617269616E740053797374656D2E5465787400770053716C4D6F6E65790053716C42696E6172790053797374656D2E536563757269747900000000094E0055004C004C000009740079007000650000474E006F007400200061002000760061006C00690064002000530051004C0020007400790070006500200066006F0072002000420069006700560061007200690061006E0074000000000080A53C3F4B5D6D4398820577E555BA4300042001010803200001052001011111042001010E042001010205200101114105200101115D040701110C050702110C0E0320000E040612808104200012750307011C030701020407011265040701116906070211081108040702020E0707040202021108042001021C03070108032000080407011108032000050320000604200101060320000A042001010A0520001280910620010112809106200101128099042001010506000106118085060001081180890600010A11808D0500010E11690500001280A1092002011280911280A1062001011280A9070703110C02110C07000112751180B1052002010E0E08B77A5C561934E0890400000000040100000004020000000403000000040400000004050000000406000000040700000004080000000409000000040A000000040B000000040C000000040D000000040E000000040F00000004100000000306110C02061C020602020608042000110C042001011C0320001C032000020420001265042000116904000011080600011108116905200101126D052001011271060001110C127506000111081265042800110C0328000E0328001C032800020428001265042800116904080011080801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F7773010801000701000000001F01001A5078746C43612E53716C436F6C6C656374696F6E732E436F7265000005010000000017010012436F7079726967687420C2A920203230313600002901002436303334336138362D323061392D346137342D626237662D66623361343630333163343000000C010007312E302E302E3000000801000000000000002B010002000000020054020D497346697865644C656E6774680054080B4D61784279746553697A65FFFFFFFF00000000000070C0005700000000020000001C010000DC350000DC1700005253445352D112999E7F2946B514F17363120A0E01000000433A5C55736572735C4D617274696E5C44726F70626F785C50726F6A656374735C4769744875625C53716C436F6C6C656374696F6E735C5078746C43612E53716C436F6C6C656374696F6E732E436F72655C6F626A5C44656275675C5078746C43612E53716C436F6C6C656374696F6E732E436F72652E7064620000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002037000000000000000000003A3700000020000000000000000000000000000000000000000000002C370000000000000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF2500200010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100000001800008000000000000000000000000000000100010000003000008000000000000000000000000000000100000000004800000058400000AC0300000000000000000000AC0334000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100000001000000000000000100000000003F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B0040C030000010053007400720069006E006700460069006C00650049006E0066006F000000E802000001003000300030003000300034006200300000001A000100010043006F006D006D0065006E007400730000000000000022000100010043006F006D00700061006E0079004E0061006D00650000000000000000005E001B000100460069006C0065004400650073006300720069007000740069006F006E00000000005000780074006C00430061002E00530071006C0043006F006C006C0065006300740069006F006E0073002E0043006F007200650000000000300008000100460069006C006500560065007200730069006F006E000000000031002E0030002E0030002E00300000005E001F00010049006E007400650072006E0061006C004E0061006D00650000005000780074006C00430061002E00530071006C0043006F006C006C0065006300740069006F006E0073002E0043006F00720065002E0064006C006C00000000004800120001004C006500670061006C0043006F007000790072006900670068007400000043006F0070007900720069006700680074002000A90020002000320030003100360000002A00010001004C006500670061006C00540072006100640065006D00610072006B007300000000000000000066001F0001004F0072006900670069006E0061006C00460069006C0065006E0061006D00650000005000780074006C00430061002E00530071006C0043006F006C006C0065006300740069006F006E0073002E0043006F00720065002E0064006C006C000000000056001B000100500072006F0064007500630074004E0061006D006500000000005000780074006C00430061002E00530071006C0043006F006C006C0065006300740069006F006E0073002E0043006F007200650000000000340008000100500072006F006400750063007400560065007200730069006F006E00000031002E0030002E0030002E003000000038000800010041007300730065006D0062006C0079002000560065007200730069006F006E00000031002E0030002E0030002E003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000C0000004C3700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;


GO
PRINT N'Creating [dbo].[BigVariant]...';


GO
CREATE TYPE [dbo].[BigVariant]
     EXTERNAL NAME [PxtlCa.SqlCollections.Core].[PxtlCa.SqlCollections.Core.BigVariant];


GO
PRINT N'Creating [dbo].[BigVariantFromString]...';


GO
CREATE FUNCTION [dbo].[BigVariantFromString]
(@value NVARCHAR (MAX))
RETURNS [dbo].[BigVariant]
AS
 EXTERNAL NAME [PxtlCa.SqlCollections.Core].[PxtlCa.SqlCollections.Core.UserDefinedFunctions].[BigVariantFromString]


GO
PRINT N'Creating [dbo].[BigVariantFromVariant]...';


GO
CREATE FUNCTION [dbo].[BigVariantFromVariant]
(@value XML)
RETURNS [dbo].[BigVariant]
AS
 EXTERNAL NAME [PxtlCa.SqlCollections.Core].[PxtlCa.SqlCollections.Core.UserDefinedFunctions].[BigVariantFromVariant]


GO
PRINT N'Creating [dbo].[BigVariantFromXml]...';


GO
CREATE FUNCTION [dbo].[BigVariantFromXml]
(@value XML)
RETURNS [dbo].[BigVariant]
AS
 EXTERNAL NAME [PxtlCa.SqlCollections.Core].[PxtlCa.SqlCollections.Core.UserDefinedFunctions].[BigVariantFromXml]


GO
DECLARE @VarDecimalSupported AS BIT;

SELECT @VarDecimalSupported = 0;

IF ((ServerProperty(N'EngineEdition') = 3)
    AND (((@@microsoftversion / power(2, 24) = 9)
          AND (@@microsoftversion & 0xffff >= 3024))
         OR ((@@microsoftversion / power(2, 24) = 10)
             AND (@@microsoftversion & 0xffff >= 1600))))
    SELECT @VarDecimalSupported = 1;

IF (@VarDecimalSupported > 0)
    BEGIN
        EXECUTE sp_db_vardecimal_storage_format N'$(DatabaseName)', 'ON';
    END


GO
PRINT N'Update complete.';


GO
